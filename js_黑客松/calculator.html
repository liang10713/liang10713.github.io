<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>

<body>
    <div class="container m-auto ">
        <div class="row m-auto">
            <div class=" m-auto col-6">
                <input type="text" class="form-control my-4" placeholder="Recipient's username"
                    aria-label="Recipient's username" aria-describedby="button-addon2">
            </div>
            <div class="col-8 mx-auto text-center py-2">
                <button class="btn btn-primary col-4" type="button" id="clear">C</button>
                <button class="btn btn-primary col-2" type="button" id="oneClear">></button>
                <button class="btn btn-primary col-2" type="button" id="add">+</button>
            </div>
            <div class="col-8 m-auto text-center py-2">
                <button class="btn btn-primary col-2" type="button" id="one">1</button>
                <button class="btn btn-primary col-2" type="button" id="two">2</button>
                <button class="btn btn-primary col-2" type="button" id="three">3</button>
                <button class="btn btn-primary col-2" type="button" id="reduce">-</button>
            </div>
            <div class="col-8 m-auto text-center py-2">
                <button class="btn btn-primary col-2" type="button" id="four">4</button>
                <button class="btn btn-primary col-2" type="button" id="five">5</button>
                <button class="btn btn-primary col-2" type="button" id="six">6</button>
                <button class="btn btn-primary col-2" type="button" id="multiplication">*</button>
            </div>
            <div class="col-8 m-auto text-center py-2">
                <button class="btn btn-primary col-2" type="button" id="seven">7</button>
                <button class="btn btn-primary col-2" type="button" id="eight">8</button>
                <button class="btn btn-primary col-2" type="button" id="nine">9</button>
                <button class="btn btn-primary col-2" type="button" id="division">/</button>
            </div>
            <div class="col-8 m-auto text-center py-2">
                <button class="btn btn-primary  col-2" type="button" id="equal">=</button>
                <button class="btn btn-primary  col-2" type="button" id="zero">0</button>
                <button class="btn btn-primary  col-2" type="button" id="point">.</button>
                <button class="btn btn-primary  col-2" type="button" id="percentage">%</button>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script>
        let container, input, btnClear, btnOneClear, btnAdd, btnOne, btnTwo, btnThree, btnReduce, btnFour, btnFive, btnSix, btnMultiplication, btnSeven, btnEight, btnNine, btnDivision, btnEqual, btnZero, btnPoint, btnPercentage



        window.onload = function () {
            container = document.querySelector(".container");
            input = document.querySelector("input");

            btnClear = document.getElementById("clear");
            btnOneClear = document.getElementById("oneClear");
            btnAdd = document.getElementById("add");

            btnOne = document.getElementById("one");
            btnTwo = document.getElementById("two");
            btnThree = document.getElementById("three");
            btnReduce = document.getElementById("reduce");

            btnFour = document.getElementById("four");
            btnFive = document.getElementById("five");
            btnSix = document.getElementById("six");
            btnMultiplication = document.getElementById("multiplication");

            btnSeven = document.getElementById("seven");
            btnEight = document.getElementById("eight");
            btnNine = document.getElementById("nine");
            btnDivision = document.getElementById("division");

            btnEqual = document.getElementById("equal");
            btnZero = document.getElementById("zero");
            btnPoint = document.getElementById("point");
            btnPercentage = document.getElementById("percentage");



            btnClear.addEventListener("click", ()=>{
                input.value = "";
                calc = " ";
            });

            btnOneClear.addEventListener("click", ()=> {
                input.value = input.value.substring(0, input.value.length - 1);
                calc = calc.substring(0, calc.length - 1);
                //從某個位置開始刪除，後面向前遞補空位
                // let a = str.slice(0,str.length-1)
            });
            btnAdd.addEventListener("click", ()=> {
                sym();
            });
            btnReduce.addEventListener("click", ()=> {
                sym();
            });
            btnMultiplication.addEventListener("click",()=> {
                sym();
            });
            btnDivision.addEventListener("click", ()=> {
                sym();
            });
            btnPercentage.addEventListener("click", ()=> {
                sym();
            });

            btnOne.addEventListener("click", (event)=> {
                num();
            });
            btnTwo.addEventListener("click", (event)=> {
                num();
            });
            btnThree.addEventListener("click",  (event)=> {
                num();
            });
            btnFour.addEventListener("click",  (event)=> {
                num();
            });
            btnFive.addEventListener("click",  (event)=> {
                num();
            });
            btnSix.addEventListener("click",  (event)=> {
                num();
            });
            btnSeven.addEventListener("click",  (event)=> {
                num();
            });
            btnEight.addEventListener("click",  (event)=> {
                num();
            });
            btnNine.addEventListener("click",  (event)=> {
                num();
            });
            btnZero.addEventListener("click",  (event)=> {
                num();
            });
            btnPoint.addEventListener("click",  (event)=> {
                if (input.value.length == 0){
                    input.value += `0${event.target.innerText}`;
                    calc += `0${event.target.innerText}`;
                }
                else{
                    num();
                }
            });

            btnEqual.addEventListener("click",  ()=> {
                input.value = eval(calc)
                calc = input.value
            });

        }
        let calc =''
        function num() {
            // parseFloat()
            // parseInt()
            let input_sym = event.target.innerText
            calc += input_sym
            input.value += input_sym;

            // //當要取得物件裡沒有自帶屬性時要用以下方法創屬性拿屬性(如果本來就有屬性就可以用.的)
            // input.setAttribute(".data_value",123);
            // let number = input.getAttribute(".data_value")
        }
        function sym() {
            let input_sym = event.target.innerText
            calc += input_sym;
            input.value =" ";

        }



            //not defined未定義:去檢查宣告是否有問題
            // 還有一個是xxxx.ooo沒設定
    </script>

</body>

</html>